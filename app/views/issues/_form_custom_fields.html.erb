<% custom_field_values = @issue.editable_custom_field_values %>
<% if custom_field_values.present? %>
  <% columns_by_types = allocation_columns(custom_field_values) %>
    <% columns_by_types.each do |columns_by_type| %>
      <% columns_by_type.each do |key, custom_field_values| %>
        <% if key == "2" %>
          <div class="splitcontent">
            <div class="splitcontentleft">
              <% i = 0 %>
              <% split_on = (custom_field_values.size / 2.0).ceil - 1 %>
              <% custom_field_values.each do |value| %>
                <p><%= custom_field_tag_with_label :issue, value, :required => @issue.required_attribute?(value.custom_field_id) %></p>
                <% if i == split_on -%>
                  </div><div class="splitcontentright">
                <% end -%>
                <% i += 1 -%>
              <% end -%>
            </div>
          </div>
        <% elsif key == "1" %>
          <% custom_field_values.each do |value| %>
            <p><%= custom_field_tag_with_label :issue, value, :required => @issue.required_attribute?(value.custom_field_id) %></p>
          <% end -%>
        <% end -%>
      <% end -%>
    <% end -%>
  <hr />
<% end %>
